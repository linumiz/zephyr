/*
 * Copyright 2025 Linumiz GmbH
 *
 * SPDX-License-Identifier: Apache-2.0
 */

#ifndef ZEPHYR_DRIVERS_CHARGER_BQ2562X_H_
#define ZEPHYR_DRIVERS_CHARGER_BQ2562X_H_

#define BQ2562X_CHRG_I_LIM_LSB   0x02
#define BQ2562X_CHRG_I_LIM_MSB   0x03
#define BQ2562X_CHRG_V_LIM_LSB   0x04
#define BQ2562X_CHRG_V_LIM_MSB   0x05
#define BQ2562X_INPUT_I_LIM_LSB  0x06
#define BQ2562X_INPUT_I_LIM_MSB  0x07
#define BQ2562X_INPUT_V_LIM_LSB  0x08
#define BQ2562X_INPUT_V_LIM_MSB  0x09
#define BQ2562X_MIN_SYS_V_LSB    0x0e
#define BQ2562X_MIN_SYS_V_MSB    0x0f
#define BQ2562X_PRECHRG_CTRL_LSB 0x10
#define BQ2562X_PRECHRG_CTRL_MSB 0x11
#define BQ2562X_TERM_CTRL_LSB    0x12
#define BQ2562X_TERM_CTRL_MSB    0x13
#define BQ2562X_CHRG_CTRL_0      0x14
#define BQ2562X_CHRG_CTRL_2      0x17
#define BQ2562X_NTC_CTRL_0       0x1a
#define BQ2562X_NTC_CTRL_1       0x1b
#define BQ2562X_NTC_CTRL_2       0x1c
#define BQ2562X_CHRG_STAT_0      0x1d
#define BQ2562X_CHRG_STAT_1      0x1e
#define BQ2562X_CHRG_MSK_0       0x23
#define BQ2562X_CHRG_MSK_1       0x24
#define BQ2562X_FAULT_MSK_0      0x25
#define BQ2562X_ADC_CTRL         0x26
#define BQ2562X_ADC_IBAT_LSB     0x2a
#define BQ2562X_ADC_IBAT_MSB     0x2b
#define BQ2562X_ADC_VPMID_LSB    0x2e
#define BQ2562X_ADC_VPMID_MSB    0x2f
#define BQ2562X_ADC_VBAT_LSB     0x30
#define BQ2562X_ADC_VBAT_MSB     0x31
#define BQ2562X_ADC_VSYS_LSB     0x32
#define BQ2562X_ADC_VSYS_MSB     0x33
#define BQ2562X_ADC_TS_LSB       0x34
#define BQ2562X_ADC_TS_MSB       0x35
#define BQ2562X_ADC_TDIE_LSB     0x36
#define BQ2562X_ADC_TDIE_MSB     0x37

/* REG0x02_Charge_Current_Limit */
#define BQ2562X_ICHG_I_MIN_UA  80000
#define BQ2562X_ICHG_I_MAX_UA  4000000
#define BQ2562X_ICHG_I_DEF_UA  1040000
#define BQ2562X_ICHG_I_SHIFT   6
#define BQ2562X_ICHG_I_STEP_UA 80000
#define BQ2562X_ICHG_MSB_MSK   GENMASK(3, 0)
#define BQ2562X_ICHG_LSB_MSK   GENMASK(7, 6)

/* REG0x04_Charge_Voltage_Limit */
#define BQ2562X_VREG_V_MIN_UV  3500000
#define BQ2562X_VREG_V_MAX_UV  4800000
#define BQ2562X_VREG_V_DEF_UV  4200000
#define BQ2562X_VREG_V_SHIFT   3
#define BQ2562X_VREG_V_STEP_UV 10000
#define BQ2562X_VREG_MSB_MSK   GENMASK(3, 0)
#define BQ2562X_VREG_LSB_MSK   GENMASK(7, 3)

/* REG0x06_Input_Current_Limit */
#define BQ2562X_IINDPM_I_MIN_UA  100000
#define BQ2562X_IINDPM_I_MAX_UA  3200000
#define BQ2562X_IINDPM_I_DEF_UA  1000000
#define BQ2562X_IINDPM_I_SHIFT   4
#define BQ2562X_IINDPM_I_STEP_UA 20000
#define BQ2562X_IINDPM_MSB_MSK   GENMASK(3, 0)
#define BQ2562X_IINDPM_LSB_MSK   GENMASK(7, 4)

/* REG0x08_Input_Voltage_Limit */
#define BQ2562X_VINDPM_V_MIN_UV  3800000
#define BQ2562X_VINDPM_V_MAX_UV  16800000
#define BQ2562X_VINDPM_V_DEF_UV  4600000
#define BQ2562X_VINDPM_V_SHIFT   5
#define BQ2562X_VINDPM_V_STEP_UV 40000
#define BQ2562X_VINDPM_MSB_MSK   GENMASK(5, 0)
#define BQ2562X_VINDPM_LSB_MSK   GENMASK(7, 5)

/* REG0x0E_Minimal_System_Voltage */
#define BQ2562X_VSYSMIN_V_MIN_UV   2560000
#define BQ2562X_VSYSMIN_V_MAX_UV   3840000
#define BQ2562X_VSYSMIN_V_DEF_UV   3600000
#define BQ2562X_VSYSMIN_V_SHIFT    6
#define BQ2562X_VSYSMIN_V_SHIFT_UV 80000
#define BQ2562X_VSYSMIN_V_MSB_MSK  GENMASK(3, 0)
#define BQ2562X_VSYSMIN_V_LSB_MSK  GENMASK(7, 6)

/* REG0x10_Pre-charge_Control */
#define BQ2562X_PRECHRG_I_MIN_UA  20000
#define BQ2562X_PRECHRG_I_MAX_UA  620000
#define BQ2562X_PRECHRG_I_DEF_UA  100000
#define BQ2562X_PRECHRG_I_SHIFT   4
#define BQ2562X_PRECHRG_I_STEP_UA 20000
#define BQ2562X_PRECHRG_I_MSB_MSK BIT(0)
#define BQ2562X_PRECHRG_I_LSB_MSK GENMASK(7, 4)

/* REG0x12_Termination_Control */
#define BQ2562X_TERMCHRG_I_MIN_UA  40000
#define BQ2562X_TERMCHRG_I_MAX_UA  620000
#define BQ2562X_TERMCHRG_I_DEF_UA  60000
#define BQ2562X_TERMCHRG_I_SHIFT   3
#define BQ2562X_TERMCHRG_I_STEP_UA 10000
#define BQ2562X_TERMCHRG_I_MSB_MSK BIT(0)
#define BQ2562X_TERMCHRG_I_LSB_MSK GENMASK(7, 3)

/* REG0x14_Charge_Control_0 */
#define BQ2562X_CHG_CTL_ITRICKLE        BIT(5)
#define BQ2562X_CHG_CTL_ITRICKLE_DEF_UA 20000
#define BQ2562X_CHG_CTL_ITRICKLE_MAX_UA 80000

/* REG0x17_Charger_Control_2 */
#define BQ2562X_CTRL2_REG_RST       BIT(7)
#define BQ2562X_CTRL2_TREG          BIT(6)
#define BQ2562X_CTRL2_SET_CONV_FREQ GENMASK(5, 4)
#define BQ2562X_CTRL2_SET_CONV_STRN GENMASK(3, 2)

/* REG0x1A_NTC_Control_0 */
#define BQ2562X_NTC_MASK BIT(7)
#define BQ2562X_NTC_DIS  1


/* REG0x23_Charger_Mask_0 */
#define BQ2562X_CHG_MSK_0_CLR GENMASK(6, 0)

/* REG0x24_Charger_Mask_1 */
#define BQ2562X_CHG_MSK  BIT(3)
#define BQ2562X_VBUS_MSK BIT(0)

/* REG0x25_FAULT_Mask_0 */
#define BQ2562X_FAULT_MSK_0_CLR (GENMASK(7, 3) | BIT(0))

/* REG0x26_ADC_Control */
#define BQ2562X_ADC_EN     BIT(7)
#define BQ2562X_ADC_SAMPLE GENMASK(5, 4)

/* REG0x2A_IBAT_ADC */
#define BQ2562X_ADC_IBAT_STEP_UV 4000
#define BQ2562X_ADC_IBAT_SHIFT   2
#define BQ2562X_ADC_IBAT_MASK    GENMASK(15, 2)

/* REG0x30_VBAT_ADC */
#define BQ2562X_ADC_VBAT_STEP_UV 1990
#define BQ2562X_ADC_VBAT_MASK    GENMASK(12, 1)
#define BQ2562X_ADC_VBAT_SHIFT   1

#endif /* ZEPHYR_DRIVERS_CHARGER_BQ2562X_H_ */
